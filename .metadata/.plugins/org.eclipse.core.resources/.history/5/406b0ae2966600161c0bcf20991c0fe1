<%@ page language="java" pageEncoding="UTF-8" trimDirectiveWhitespaces="true"%>
<%@ page import="java.util.*"%>
<%
	String addr="";
	String zipcode="";
	String zip1="";
	String zip2="";	
	List zipcodeList=(ArrayList)request.getAttribute("zipcodelist");
%>

<html>
<head>
<title>우편번호 찾기</title>
<script>
function setZipcode(zip1,zip2,addr){
	opener.document.forms[0].MEMBER_ZIPCODE1.value=zip1;
	opener.document.forms[0].MEMBER_ZIPCODE2.value=zip2;
	opener.document.forms[0].MEMBER_ADDR1.value=addr;
	self.close();
}
</script>
<style>

table{
	font-size: 12px;
	margin: 0 auto;
}

th{
	font-size: 14px;
}

tr, td{
	height: 35px;
	line-height: 35px;
}

input[type=submit]{
    padding: 4px 10px;
    display: inline-block;
    background-color: #ffffff;
    border: 1px solid #ccc;
    border-radius: 4px;
    box-sizing: border-box;
    resize: none;
}

input[type=text]{
    padding: 5px 10px;
    display: inline-block;
    border: 1px solid #ccc;
    border-radius: 4px;
    box-sizing: border-box;
    resize: none;
}
</style>
</head>
<body>
<form action="" method="post" name="form">
<table width="80%">
	<tr align="center">
		<th align="center">
			<b>우편번호 검색</b>
			<br />
		</th>
	</tr>
	<tr align="center">
		<td align="center">
			지역명 : 
			<input type="text" name="dong" size="10"/>
			<input type="submit" value="검색"><br />
			동을 입력하세요. (예:방배, 원천, 2글자 이상입력)
		</td>
	</tr>
</table>
</form>
<br>
<table width="80%">
	<tr height="35">
		<td align="center" colspan="2">검색결과</td>
	</tr>
	<%	
		if(zipcodeList!=null && zipcodeList.size()!=0){	
			for(int i=0;i<zipcodeList.size();i++){
				String data=(String)zipcodeList.get(i);
				
				StringTokenizer st=new StringTokenizer(data,",");
				zipcode=st.nextToken();
				addr=st.nextToken();
				
				zip1=zipcode.split("-")[0];
				zip2=zipcode.split("-")[1];
	%>
	<tr>
		<td width="20%">
		<a href="#"	onclick="setZipcode(<%=zip1%>,<%=zip2%>,'<%=addr %>')">
			<font size="2"><%=zipcode%></font>
		</a>
		</td>
		<td width="80%"><%=addr %></td>
	</tr>
	<%		}
		}else{ %>
	<tr>
		<td colspan="2" align="center">검색 결과가 없습니다.</td>
	</tr>
	<%	}%>
</table>
</body>
</html>